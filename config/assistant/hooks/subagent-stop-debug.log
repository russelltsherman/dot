[2026-01-31T20:03:20.318Z] üîç SubagentStop hook started
[2026-01-31T20:03:20.320Z] Input received: {"session_id":"43a72b91-f38b-4d8a-83b3-fee92dd37756","transcript_path":"/Users/russelltsherman/.conf...
[2026-01-31T20:03:20.320Z] Transcript path: /Users/russelltsherman/.config/assistant/projects/-Users-russelltsherman-src-github-com-russelltsherman-dot-config-assistant/43a72b91-f38b-4d8a-83b3-fee92dd37756.jsonl
[2026-01-31T20:03:20.320Z] Starting findTaskResult...
[2026-01-31T20:03:20.523Z] No Task result found in transcript after waiting
[2026-01-31T20:03:47.246Z] üîç SubagentStop hook started
[2026-01-31T20:03:47.249Z] Input received: {"session_id":"43a72b91-f38b-4d8a-83b3-fee92dd37756","transcript_path":"/Users/russelltsherman/.conf...
[2026-01-31T20:03:47.249Z] Transcript path: /Users/russelltsherman/.config/assistant/projects/-Users-russelltsherman-src-github-com-russelltsherman-dot-config-assistant/43a72b91-f38b-4d8a-83b3-fee92dd37756.jsonl
[2026-01-31T20:03:47.249Z] Starting findTaskResult...
[2026-01-31T20:03:47.250Z] Task output found, length: 7707
[2026-01-31T20:03:47.250Z] Task output preview: 
   - Each plugin has a homepage and description in the Discover tab
   - Official plugins have full documentation

Would you like me to help you with any specific plugin, create a custom plugin, or set up a particular workflow?
agentId: a4491b3 (for resuming to continue this agent's work if needed)
[2026-01-31T20:03:47.250Z] Instance metadata: {"agent_type":"claude-code-guide"}
[2026-01-31T20:03:47.251Z] No specific completion message found in Task output
[2026-01-31T20:03:47.251Z] Full task output for debugging: Perfect! I now have comprehensive documentation. Let me provide you with a complete guide on Claude Code plugins.

## Claude Code Plugin System - Complete Guide

I've gathered comprehensive information about the Claude Code plugin system. Here's everything you need to know:

### 1. Plugin Activation & Restart

When you install plugins, you'll see the message "Restart Claude Code to load new plugins". This is how the activation process works:

**Steps:**
1. Install a plugin using `/plugin install plugin-name@marketplace-name`
2. Claude Code detects the installation and prompts you to restart
3. Restart your terminal or Claude Code session
4. The plugin is now active and its commands are available

You don't need to manually enable anything‚Äîthe restart allows Claude Code to discover and register the plugin's components.

### 2. How to Invoke Plugins

Plugins expose functionality through **namespaced commands**. Each plugin's commands follow this pattern:

```
/plugin-name:command-name
```

**Example**: The `commit-commands` plugin provides:
- `/commit-commands:commit` - Create a git commit
- `/commit-commands:commit-push-pr` - Commit, push, and open PR
- `/commit-commands:clean_gone` - Clean up deleted branches

**Discovery**: Run `/plugin` to browse installed plugins and see their available commands.

### 3. What Plugins Can Provide

Plugins expose several types of capabilities:

**Slash Commands**: Invoke with `/plugin-name:command`
- Example: `/linear:create-issue` from the Linear plugin

**Hooks**: Automatic actions that respond to events
- Run scripts before/after tool use
- Validate permissions
- Execute notifications

**Skills**: Reusable capabilities that Claude can invoke automatically
- PDF processing, code review, data analysis
- Located in the plugin's `skills/` directory

**Agents**: Specialized subagents for specific tasks
- Claude invokes them automatically when appropriate
- Example: Security reviewer, performance tester agents

**MCP Servers**: Integration with external services (GitHub, Linear, Slack, Figma, etc.)
- Bundled pre-configured so no manual setup needed
- Work seamlessly with Claude's toolkit

**LSP Servers**: Language intelligence for real-time code diagnostics
- Jump to definitions, find references, see type errors
- Supported: Python, TypeScript, Rust, Go, Java, and more

### 4. Managing Plugins - Interactive Interface

Run `/plugin` to open the interactive plugin manager with 4 tabs:

| Tab | Purpose |
|-----|---------|
| **Discover** | Browse available plugins from all marketplaces |
| **Installed** | View and manage your installed plugins |
| **Marketplaces** | Add, remove, or update marketplaces |
| **Errors** | View any plugin loading errors |

**Navigation**: Use **Tab** or **Shift+Tab** to cycle through tabs

### 5. Managing Plugins - CLI Commands

**Install a plugin** (to user scope by default):
```bash
/plugin install plugin-name@marketplace-name
```

**Choose installation scope** (user, project, or local):
```bash
/plugin install plugin-name@marketplace-name --scope project
```

**Disable a plugin** (without uninstalling):
```bash
/plugin disable plugin-name@marketplace-name
```

**Re-enable a disabled plugin**:
```bash
/plugin enable plugin-name@marketplace-name
```

**Uninstall a plugin**:
```bash
/plugin uninstall plugin-name@marketplace-name
```

**Update a plugin**:
```bash
/plugin update plugin-name@marketplace-name
```

### 6. Managing Marketplaces

**Add a marketplace** (from GitHub):
```bash
/plugin marketplace add anthropics/claude-code
```

**Add from other Git hosts**:
```bash
/plugin marketplace add https://gitlab.com/company/plugins.git
```

**Add from local path**:
```bash
/plugin marketplace add ./my-marketplace
```

**List marketplaces**:
```bash
/plugin marketplace list
```

**Update marketplace catalog**:
```bash
/plugin marketplace update marketplace-name
```

**Remove a marketplace**:
```bash
/plugin marketplace remove marketplace-name
```

### 7. Installation Scopes

When installing plugins, you choose where they're available:

| Scope | File | Use Case |
|-------|------|----------|
| **user** | `~/.claude/settings.json` | Personal plugins across all projects (default) |
| **project** | `.claude/settings.json` | Team plugins shared via version control |
| **local** | `.claude/settings.local.json` | Project-specific, gitignored |
| **managed** | `managed-settings.json` | Admin-controlled, read-only |

### 8. Your Current Configuration

Looking at your setup in `/Users/russelltsherman/.config/assistant/settings.json`, you have these plugins enabled:

- `linear@claude-plugins-official` - Linear project management
- `github@claude-plugins-official` - GitHub integration
- `ralph-loop@claude-plugins-official` - Ralph Loop plugin
- `commit-commands@claude-plugins-official` - Git workflows
- `superpowers@claude-plugins-official` - Enhanced capabilities
- `Notion@claude-plugins-official` - Notion integration
- `code-review@claude-plugins-official` - Code review tools
- `feature-dev@claude-plugins-official` - Feature development
- `context7@claude-plugins-official` - Context management
- `hookify@claude-plugins-official` - Hook configuration
- `learning-output-style@claude-plugins-official` - Output styling
- `slack@claude-plugins-official` - Slack integration

All of these should be active now. Try commands like:
- `/commit-commands:commit` for git operations
- `/Notion:search` for Notion integration
- `/linear:create-issue` for Linear tickets

### 9. Common Plugin Features

**Official Anthropic Marketplace** plugins include:

**Code Intelligence** (LSP):
- TypeScript, Python, Rust, Go, Java, and more
- Provides real-time diagnostics and code navigation

**Development Workflows**:
- `commit-commands` - Git commit/push/PR automation
- `code-review` - Code review workflows
- `feature-dev` - Guided feature development
- `pr-review-toolkit` - PR review tools

**External Integrations**:
- Source control: GitHub, GitLab
- Project management: Linear, Notion, Asana, Jira
- Infrastructure: Vercel, Firebase, Supabase
- Communication: Slack
- Design: Figma

**Output Customization**:
- `explanatory-output-style` - Educational insights
- `learning-output-style` - Interactive learning mode

### 10. Best Practices

**Trust & Security**:
- Trust plugins before installing‚ÄîAnthropic doesn't control plugin contents
- Check plugin homepages for information
- Review what permissions they request

**Performance**:
- Language servers (LSP) can use significant memory on large projects
- Disable if experiencing memory issues: `/plugin disable plugin-name`
- Auto-updates are enabled by default for official marketplace

**Organization**:
- Use **project scope** for team-shared plugins
- Use **user scope** for personal tools
- Use **local scope** for experimental or one-off plugins

**Troubleshooting**:
- If `/plugin` command isn't recognized, ensure you're on version 1.0.33+
- Run `claude --version` to check
- Run `claude --debug` to see plugin loading details

### 11. Next Steps

1. **Test your installed plugins** by trying their commands:
   ```bash
   /commit-commands:commit
   /Notion:search
   /linear:list
   ```

2. **Browse the official marketplace** for more:
   ```bash
   /plugin
   # Then navigate to "Discover" tab
   ```

3. **Create custom skills** within plugins for your workflow

4. **Check documentation** for specific plugins:
   - Each plugin has a homepage and description in the Discover tab
   - Official plugins have full documentation

Would you like me to help you with any specific plugin, create a custom plugin, or set up a particular workflow?
agentId: a4491b3 (for resuming to continue this agent's work if needed)
[2026-01-31T20:06:07.350Z] üîç SubagentStop hook started
[2026-01-31T20:06:07.351Z] Input received: {"session_id":"ef2b8855-02d2-441f-a507-f783428ba4f9","transcript_path":"/Users/russelltsherman/.conf...
[2026-01-31T20:06:07.352Z] Transcript path: /Users/russelltsherman/.config/assistant/projects/-Users-russelltsherman-src-github-com-russelltsherman-dot-config-assistant/ef2b8855-02d2-441f-a507-f783428ba4f9.jsonl
[2026-01-31T20:06:07.352Z] Starting findTaskResult...
[2026-01-31T20:06:07.554Z] No Task result found in transcript after waiting
[2026-01-31T20:06:33.900Z] üîç SubagentStop hook started
[2026-01-31T20:06:33.901Z] Input received: {"session_id":"ef2b8855-02d2-441f-a507-f783428ba4f9","transcript_path":"/Users/russelltsherman/.conf...
[2026-01-31T20:06:33.901Z] Transcript path: /Users/russelltsherman/.config/assistant/projects/-Users-russelltsherman-src-github-com-russelltsherman-dot-config-assistant/ef2b8855-02d2-441f-a507-f783428ba4f9.jsonl
[2026-01-31T20:06:33.901Z] Starting findTaskResult...
[2026-01-31T20:06:33.903Z] Task output found, length: 10947
[2026-01-31T20:06:33.903Z] Task output preview: and install**: https://code.claude.com/docs/en/discover-plugins.md
- **Create marketplaces**: https://code.claude.com/docs/en/plugin-marketplaces.md
- **Technical reference**: https://code.claude.com/docs/en/plugins-reference.md
agentId: a2541d5 (for resuming to continue this agent's work if needed)
[2026-01-31T20:06:33.903Z] Instance metadata: {"agent_type":"claude-code-guide"}
[2026-01-31T20:06:33.903Z] No specific completion message found in Task output
[2026-01-31T20:06:33.903Z] Full task output for debugging: Perfect! Now I have comprehensive documentation on Claude Code plugins. Let me provide you with a detailed guide.

---

## Claude Code Plugins: Comprehensive Guide

### 1. What Are Claude Code Plugins?

**Plugins** are packaged extensions that extend Claude Code with custom functionality. They allow you to:

- Add custom skills (commands like `/plugin-name:skill-name`)
- Create custom agents (specialized AI assistants)
- Install hooks (automation and event handlers)
- Connect MCP (Model Context Protocol) servers
- Add LSP (Language Server Protocol) servers for code intelligence

Plugins differ from standalone configuration by being **shareable, versionable, and distributable** through marketplaces. They use a plugin namespace to prevent naming conflicts (e.g., `/commit-commands:commit` instead of just `/commit`).

**When to use plugins:**
- Sharing functionality with your team or community
- Creating reusable extensions across multiple projects
- Publishing to marketplaces
- Version control and automatic updates

**When to use standalone configuration (`.claude/` directory):**
- Project-specific customizations
- Personal workflows
- Quick experiments before packaging as plugins

---

### 2. How to Discover Available Plugins

Claude Code provides multiple ways to find and browse plugins:

**Official Anthropic Marketplace** (automatically available):
```shell
/plugin
```
This opens an interactive interface with four tabs:
- **Discover**: Browse available plugins from all marketplaces
- **Installed**: View and manage installed plugins
- **Marketplaces**: Add, remove, or update marketplaces
- **Errors**: View plugin loading errors

**Available plugin categories in the official marketplace:**

| Category | Examples |
|----------|----------|
| **Code Intelligence** | `typescript-lsp`, `pyright-lsp`, `rust-analyzer-lsp`, `gopls-lsp` (and 8+ more languages) |
| **External Integrations** | `github`, `gitlab`, `slack`, `notion`, `linear`, `jira`, `figma`, `vercel`, `firebase`, `sentry` |
| **Development Workflows** | `commit-commands`, `pr-review-toolkit`, `agent-sdk-dev`, `plugin-dev` |
| **Output Styles** | `explanatory-output-style`, `learning-output-style` |

**Add additional marketplaces:**

```shell
# From GitHub
/plugin marketplace add anthropics/claude-code

# From GitLab or other git hosts
/plugin marketplace add https://gitlab.com/company/plugins.git

# From local path
/plugin marketplace add ./my-marketplace

# From remote URL
/plugin marketplace add https://example.com/marketplace.json
```

---

### 3. How to Install and Activate Plugins

**Basic installation** (to user scope, available across all projects):
```shell
/plugin install plugin-name@marketplace-name
```

Example:
```shell
/plugin install commit-commands@claude-plugins-official
```

**Interactive installation** (choose scope):
1. Run `/plugin` and go to **Discover** tab
2. Press **Enter** on a plugin to see scope options:
   - **User scope**: Install for yourself across all projects
   - **Project scope**: Install for all collaborators (adds to `.claude/settings.json`)
   - **Local scope**: Install for yourself in this repository only

**Manage installed plugins:**

```shell
# Disable a plugin without uninstalling
/plugin disable plugin-name@marketplace-name

# Re-enable a disabled plugin
/plugin enable plugin-name@marketplace-name

# Completely remove a plugin
/plugin uninstall plugin-name@marketplace-name
```

View installed plugins: Run `/plugin` ‚Üí **Installed** tab

---

### 4. How to Use Plugins Once Activated

**Using plugin commands/skills:**

Plugin skills are namespaced with the plugin name. After installing a plugin, use it with the format:
```shell
/plugin-name:skill-name
```

Example with the `commit-commands` plugin:
```shell
/commit-commands:commit
```

**List available commands:**
```shell
/help
```

This shows all available commands including plugin-namespaced ones.

**Discovery within plugins:**
- Check the plugin description in the **Discover** tab
- Read the plugin's homepage or README
- Run `/help` to see available commands
- Some plugins auto-trigger based on context (automatic agent delegation)

**Code intelligence plugins** (LSP plugins) work automatically:
- After installing (e.g., `typescript-lsp` for TypeScript support)
- Claude gains automatic diagnostics after each edit
- Claude can navigate code definitions, find references, and see type information
- View diagnostics by pressing **Ctrl+O** when the "diagnostics found" indicator appears

---

### 5. How to Configure Plugins

**Plugin configuration scopes:**

Plugins can be configured at different levels:

| Scope | Location | Visibility | Use Case |
|-------|----------|-----------|----------|
| **User** | `~/.claude/settings.json` | Only you, across all projects | Personal preference |
| **Project** | `.claude/settings.json` | All collaborators in repo | Team-wide settings |
| **Local** | `.claude/settings.local.json` | Only you, in this project | Local overrides |
| **Managed** | Set by administrators | Organization-wide | Enterprise control |

**Configure which plugins are enabled:**

Add to `.claude/settings.json`:
```json
{
  "enabledPlugins": {
    "code-formatter@company-tools": true,
    "deployment-tools@company-tools": true
  }
}
```

**Configure auto-updates for marketplaces:**

1. Run `/plugin` ‚Üí **Marketplaces** tab
2. Select a marketplace
3. Choose **Enable auto-update** or **Disable auto-update**

Or set environment variables:
```bash
# Disable all auto-updates
export DISABLE_AUTOUPDATER=true

# Keep plugin updates on, but disable Claude Code updates
export FORCE_AUTOUPDATE_PLUGINS=true
```

**Configure team marketplaces** (auto-prompt installation):

Add to `.claude/settings.json`:
```json
{
  "extraKnownMarketplaces": {
    "company-tools": {
      "source": {
        "source": "github",
        "repo": "your-org/claude-plugins"
      }
    }
  }
}
```

**Enterprise marketplace restrictions:**

Administrators can restrict which marketplaces users can add:
```json
{
  "strictKnownMarketplaces": [
    {
      "source": "github",
      "repo": "acme-corp/approved-plugins"
    }
  ]
}
```

---

### 6. Relevant Commands and Settings

**Core plugin commands:**

```shell
# Plugin management
/plugin                              # Open plugin manager
/plugin install <name>@<marketplace> # Install a plugin
/plugin uninstall <name>@<marketplace> # Remove a plugin
/plugin enable <name>@<marketplace>  # Re-enable a disabled plugin
/plugin disable <name>@<marketplace> # Disable without uninstalling
/plugin update <name>@<marketplace>  # Update to latest version

# Marketplace management
/plugin marketplace add <source>      # Add a marketplace
/plugin marketplace list              # List all marketplaces
/plugin marketplace update <name>     # Refresh marketplace listings
/plugin marketplace remove <name>     # Remove a marketplace
/plugin validate                      # Validate plugin/marketplace JSON

# Shortcuts
/plugin market       # Instead of /plugin marketplace
/plugin market rm    # Instead of /plugin marketplace remove
```

**Useful CLI flags:**

```bash
# Load plugins during development
claude --plugin-dir ./my-plugin

# Load multiple plugins
claude --plugin-dir ./plugin-one --plugin-dir ./plugin-two
```

**Your current setup:**

From your `settings.json`, you have several plugins enabled:
```json
"enabledPlugins": {
  "linear@claude-plugins-official": true,
  "github@claude-plugins-official": true,
  "ralph-loop@claude-plugins-official": true,
  "commit-commands@claude-plugins-official": true,
  "superpowers@claude-plugins-official": true,
  "Notion@claude-plugins-official": true,
  "code-review@claude-plugins-official": true,
  "feature-dev@claude-plugins-official": true,
  "context7@claude-plugins-official": true,
  "hookify@claude-plugins-official": true,
  "learning-output-style@claude-plugins-official": true,
  "slack@claude-plugins-official": true
}
```

---

### 7. Advanced: Creating Your Own Plugins

**Quickstart to create a plugin:**

```bash
# 1. Create plugin directory
mkdir my-first-plugin
mkdir my-first-plugin/.claude-plugin

# 2. Create manifest at my-first-plugin/.claude-plugin/plugin.json
cat > my-first-plugin/.claude-plugin/plugin.json << 'EOF'
{
  "name": "my-first-plugin",
  "description": "A greeting plugin",
  "version": "1.0.0"
}
EOF

# 3. Add a skill
mkdir -p my-first-plugin/skills/hello
cat > my-first-plugin/skills/hello/SKILL.md << 'EOF'
---
description: Greet the user with a friendly message
disable-model-invocation: true
---

Greet the user warmly and ask how you can help them.
EOF

# 4. Test locally
claude --plugin-dir ./my-first-plugin

# 5. Try the skill
/my-first-plugin:hello
```

**Plugin directory structure:**
```
my-plugin/
‚îú‚îÄ‚îÄ .claude-plugin/
‚îÇ   ‚îî‚îÄ‚îÄ plugin.json           (Required manifest)
‚îú‚îÄ‚îÄ skills/
‚îÇ   ‚îî‚îÄ‚îÄ hello/
‚îÇ       ‚îî‚îÄ‚îÄ SKILL.md          (Agent skills)
‚îú‚îÄ‚îÄ agents/
‚îÇ   ‚îî‚îÄ‚îÄ reviewer.md           (Custom agents)
‚îú‚îÄ‚îÄ hooks/
‚îÇ   ‚îî‚îÄ‚îÄ hooks.json            (Event handlers)
‚îú‚îÄ‚îÄ .mcp.json                 (MCP servers)
‚îî‚îÄ‚îÄ .lsp.json                 (LSP servers)
```

**Convert standalone configuration to plugin:**
```bash
mkdir my-plugin/.claude-plugin
cp -r .claude/commands my-plugin/
cp -r .claude/agents my-plugin/
cp -r .claude/skills my-plugin/
```

For complete plugin development guidance, see: https://code.claude.com/docs/en/plugins.md

---

### 8. Troubleshooting

**Plugin command not recognized:**
- Update Claude Code: `claude --version` (need 1.0.33+)
- Restart Claude Code after updating

**Language server not starting:**
- Install required binary for the language
- Check `/plugin` ‚Üí **Errors** tab for specific issues
- Example: For TypeScript, install `typescript-language-server`

**Plugins not appearing:**
- Clear cache: `rm -rf ~/.claude/plugins/cache`
- Restart Claude Code and reinstall

**Private repository authentication:**
- Set environment variables:
  ```bash
  export GITHUB_TOKEN=ghp_...
  export GITLAB_TOKEN=glpat-...
  ```
- Or ensure `git clone` works in your terminal

---

### Key Takeaways

1. **Discover plugins** using `/plugin` in Claude Code or by adding marketplaces
2. **Install plugins** with `/plugin install plugin-name@marketplace`
3. **Use plugins** through namespaced commands like `/plugin-name:skill`
4. **Configure plugins** via `settings.json` with scope-based control
5. **Create plugins** by structuring skills, agents, and hooks with a manifest
6. **Share plugins** through git-based or locally-hosted marketplaces

For detailed documentation:
- **Create plugins**: https://code.claude.com/docs/en/plugins.md
- **Discover and install**: https://code.claude.com/docs/en/discover-plugins.md
- **Create marketplaces**: https://code.claude.com/docs/en/plugin-marketplaces.md
- **Technical reference**: https://code.claude.com/docs/en/plugins-reference.md
agentId: a2541d5 (for resuming to continue this agent's work if needed)
[2026-01-31T20:12:02.057Z] üîç SubagentStop hook started
[2026-01-31T20:12:02.058Z] Input received: {"session_id":"15f0c8a8-9cdc-4227-8e69-d93b42bde30e","transcript_path":"/Users/russelltsherman/.conf...
[2026-01-31T20:12:02.058Z] Transcript path: /Users/russelltsherman/.config/assistant/projects/-Users-russelltsherman-src-github-com-russelltsherman-dot-config-assistant/15f0c8a8-9cdc-4227-8e69-d93b42bde30e.jsonl
[2026-01-31T20:12:02.058Z] Starting findTaskResult...
[2026-01-31T20:12:02.263Z] No Task result found in transcript after waiting
[2026-01-31T20:12:30.166Z] üîç SubagentStop hook started
[2026-01-31T20:12:30.168Z] Input received: {"session_id":"15f0c8a8-9cdc-4227-8e69-d93b42bde30e","transcript_path":"/Users/russelltsherman/.conf...
[2026-01-31T20:12:30.168Z] Transcript path: /Users/russelltsherman/.config/assistant/projects/-Users-russelltsherman-src-github-com-russelltsherman-dot-config-assistant/15f0c8a8-9cdc-4227-8e69-d93b42bde30e.jsonl
[2026-01-31T20:12:30.168Z] Starting findTaskResult...
[2026-01-31T20:12:30.169Z] Task output found, length: 9428
[2026-01-31T20:12:30.169Z] Task output preview: Plugins](https://code.claude.com/docs/en/discover-plugins.md)
- [Plugins Reference](https://code.claude.com/docs/en/plugins-reference.md)
- [Claude Code Documentation Map](https://code.claude.com/docs/en/claude_code_docs_map.md)
agentId: a24541f (for resuming to continue this agent's work if needed)
[2026-01-31T20:12:30.169Z] Instance metadata: {"agent_type":"claude-code-guide"}
[2026-01-31T20:12:30.169Z] No specific completion message found in Task output
[2026-01-31T20:12:30.169Z] Full task output for debugging: Perfect! Now I have comprehensive information about Claude Code plugins. Let me provide you with a complete guide.

## Comprehensive Guide to Claude Code Plugins

Claude Code plugins are extensions that add custom functionality including skills, agents, hooks, and MCP server integrations. Here's everything you need to know:

### 1. What Are Claude Code Plugins?

Plugins are packages that extend Claude Code with reusable functionality you can share across projects and teams. They can include:

- **Skills/Commands**: Custom `/command` shortcuts you can invoke
- **Agents**: Specialized subagents for specific tasks
- **Hooks**: Event handlers that respond to Claude Code lifecycle events
- **MCP Servers**: Integrations with external tools and services
- **LSP Servers**: Language intelligence (go to definition, find references, type info)

**Key difference**: Plugins use namespaced commands (e.g., `/my-plugin:hello`) to avoid conflicts when multiple plugins have skills with the same name.

### 2. Discovering Plugins

The **official Anthropic marketplace** is automatically available and includes plugins across multiple categories:

- **Code Intelligence**: LSP plugins for TypeScript, Python, Rust, Go, Java, C/C++, and more
- **External Integrations**: GitHub, GitLab, Linear, Notion, Slack, Figma, Vercel, Firebase, and others
- **Development Workflows**: Git commit tools, PR review kits, Agent SDK tools
- **Output Styles**: Customization for how Claude responds

Browse available plugins with:

```bash
/plugin
```

This opens a tabbed interface:
- **Discover tab**: Browse all available plugins
- **Installed tab**: View and manage installed plugins
- **Marketplaces tab**: Add/remove marketplaces and configure auto-updates
- **Errors tab**: View plugin loading errors

### 3. Installing Plugins

#### Using the Interactive Interface

```bash
/plugin
```

Navigate to **Discover**, select a plugin, press Enter, and choose your installation scope (user, project, or local).

#### Using CLI Commands

```bash
# Install to user scope (default, available across all projects)
claude plugin install plugin-name@marketplace-name

# Install to project scope (shared with team via version control)
claude plugin install plugin-name@marketplace-name --scope project

# Install to local scope (project-specific, gitignored)
claude plugin install plugin-name@marketplace-name --scope local
```

**Installation scopes**:
- **User**: `~/.claude/settings.json` - available everywhere
- **Project**: `.claude/settings.json` - shared with team
- **Local**: `.claude/settings.local.json` - project-specific, private

### 4. Using Plugins Once Activated

After installation, plugin commands are immediately available:

```bash
/plugin-name:command-name
```

Skills within plugins work two ways:

1. **User-invoked**: You explicitly run `/plugin-name:skill-name`
2. **Auto-invoked**: Claude automatically uses skills based on task context

When a plugin provides agents, they appear in:

```bash
/agents
```

### 5. Managing Plugin Marketplaces

#### Adding Marketplaces

Marketplaces are catalogs of plugins. The official one is automatic, but you can add more:

```bash
# From GitHub (owner/repo format)
/plugin marketplace add anthropics/claude-code

# From other Git hosts (GitLab, Bitbucket, etc.)
/plugin marketplace add https://gitlab.com/company/plugins.git

# From local paths
/plugin marketplace add ./my-marketplace

# From remote URLs
/plugin marketplace add https://example.com/marketplace.json

# Specific branch/tag
/plugin marketplace add https://gitlab.com/company/plugins.git#v1.0.0
```

#### Managing Marketplaces

```bash
# List all marketplaces
/plugin marketplace list

# Update/refresh marketplace listings
/plugin marketplace update marketplace-name

# Remove a marketplace
/plugin marketplace remove marketplace-name

# Toggle auto-updates for a marketplace
# Use `/plugin` interface ‚Üí Marketplaces tab ‚Üí Select marketplace ‚Üí Enable/Disable auto-update
```

### 6. Managing Installed Plugins

```bash
# Disable a plugin (without uninstalling)
/plugin disable plugin-name@marketplace-name

# Re-enable a disabled plugin
/plugin enable plugin-name@marketplace-name

# Update a plugin to latest version
/plugin update plugin-name@marketplace-name

# Completely remove a plugin
/plugin uninstall plugin-name@marketplace-name
# Aliases: remove, rm
```

### 7. Common Plugins in Official Marketplace

**Code Intelligence (LSP)**:
- `typescript-lsp` - TypeScript/JavaScript
- `pyright-lsp` - Python
- `rust-analyzer-lsp` - Rust
- `gopls-lsp` - Go
- Plus plugins for Java, C/C++, C#, and more

**Development Workflows**:
- `commit-commands` - Git commit, push, PR creation
- `pr-review-toolkit` - Specialized PR review agents
- `agent-sdk-dev` - Claude Agent SDK tools
- `plugin-dev` - Plugin creation toolkit

**External Services**:
- `github`, `gitlab` - Source control
- `linear`, `asana`, `atlassian` - Project management
- `slack` - Communication
- `figma` - Design
- `vercel`, `firebase`, `supabase` - Infrastructure

**Output Customization**:
- `explanatory-output-style` - Educational responses
- `learning-output-style` - Interactive learning mode

### 8. CLI Commands Reference

```bash
# Installation
claude plugin install <plugin>@<marketplace> [--scope user|project|local]
claude plugin uninstall <plugin>@<marketplace> [--scope user|project|local]

# Management
claude plugin enable <plugin>@<marketplace> [--scope user|project|local]
claude plugin disable <plugin>@<marketplace> [--scope user|project|local]
claude plugin update <plugin>@<marketplace> [--scope user|project|local]

# Marketplaces
/plugin marketplace add <source>
/plugin marketplace remove <marketplace-name>
/plugin marketplace list
/plugin marketplace update <marketplace-name>
```

### 9. Configuring Plugin Settings

Plugins can be configured in your settings files:

**User scope** (`~/.claude/settings.json`):
```json
{
  "enabledPlugins": {
    "plugin-name@marketplace": true
  }
}
```

**Project scope** (`.claude/settings.json`):
```json
{
  "extraKnownMarketplaces": [
    "https://github.com/company/plugins"
  ],
  "enabledPlugins": {
    "plugin-name@marketplace": true
  }
}
```

### 10. Code Intelligence Plugins Details

When you install a code intelligence plugin (LSP):

1. The plugin must have the language server binary installed on your system
2. After installation, Claude gets:
   - **Automatic diagnostics**: Claude sees errors immediately after each edit
   - **Code navigation**: Jump to definitions, find references, get type info

If you see "Executable not found in $PATH" error:
- Install the required binary (e.g., `npm install -g typescript-language-server typescript`)
- Restart Claude Code

### 11. Creating Your Own Plugins

You can create custom plugins to share with your team or community:

```bash
# Create plugin directory
mkdir my-plugin
mkdir -p my-plugin/.claude-plugin

# Create manifest
cat > my-plugin/.claude-plugin/plugin.json << 'EOF'
{
  "name": "my-plugin",
  "description": "Custom plugin description",
  "version": "1.0.0",
  "author": { "name": "Your Name" }
}
EOF

# Add a skill
mkdir -p my-plugin/skills/hello
cat > my-plugin/skills/hello/SKILL.md << 'EOF'
---
description: Greet the user with a friendly message
---

Greet the user warmly and ask how you can help them today.
EOF

# Test locally
claude --plugin-dir ./my-plugin
```

### 12. Troubleshooting

**Plugin command not recognized**:
- Update Claude Code: `brew upgrade claude-code` or `npm update -g @anthropic-ai/claude-code`
- Requires version 1.0.33 or later: `claude --version`

**Marketplace not loading**:
- Verify URL accessibility and that `.claude-plugin/marketplace.json` exists

**Plugin installation failures**:
- Check plugin source URLs are accessible
- For private repos, ensure you have access

**Language server not starting**:
- Install the required binary: `pip install pyright`, `npm install -g typescript-language-server`, etc.
- Check `/plugin` Errors tab for details

**High memory usage**:
- Language servers can consume memory on large projects
- Disable with: `/plugin disable plugin-name@marketplace-name`

### Your Current Setup

Looking at your configuration in `/Users/russelltsherman/.config/assistant/settings.json`, I see you have these enabled plugins:

```json
"enabledPlugins": {
  "linear@claude-plugins-official": true,
  "github@claude-plugins-official": true,
  "ralph-loop@claude-plugins-official": true,
  "commit-commands@claude-plugins-official": true,
  "superpowers@claude-plugins-official": true,
  "Notion@claude-plugins-official": true,
  "code-review@claude-plugins-official": true,
  "feature-dev@claude-plugins-official": true,
  "context7@claude-plugins-official": true,
  "hookify@claude-plugins-official": true,
  "learning-output-style@claude-plugins-official": true,
  "slack@claude-plugins-official": true
}
```

These are active and ready to use with their namespaced commands (e.g., `/commit-commands:commit`, `/superpowers:brainstorm`).

---

Sources:
- [Claude Code Plugins Guide](https://code.claude.com/docs/en/plugins.md)
- [Discover and Install Plugins](https://code.claude.com/docs/en/discover-plugins.md)
- [Plugins Reference](https://code.claude.com/docs/en/plugins-reference.md)
- [Claude Code Documentation Map](https://code.claude.com/docs/en/claude_code_docs_map.md)
agentId: a24541f (for resuming to continue this agent's work if needed)
[2026-02-01T00:37:41.572Z] üîç SubagentStop hook started
[2026-02-01T00:37:41.573Z] Input received: {"session_id":"58bf5471-a215-4f3a-8ece-f38604dccc65","transcript_path":"/Users/russelltsherman/.conf...
[2026-02-01T00:37:41.574Z] Transcript path: /Users/russelltsherman/.config/assistant/projects/-Users-russelltsherman-src-github-com-russelltsherman-dot-config-assistant/58bf5471-a215-4f3a-8ece-f38604dccc65.jsonl
[2026-02-01T00:37:41.574Z] Starting findTaskResult...
[2026-02-01T00:37:41.779Z] No Task result found in transcript after waiting
[2026-02-01T00:38:22.550Z] üîç SubagentStop hook started
[2026-02-01T00:38:22.552Z] Input received: {"session_id":"58bf5471-a215-4f3a-8ece-f38604dccc65","transcript_path":"/Users/russelltsherman/.conf...
[2026-02-01T00:38:22.552Z] Transcript path: /Users/russelltsherman/.config/assistant/projects/-Users-russelltsherman-src-github-com-russelltsherman-dot-config-assistant/58bf5471-a215-4f3a-8ece-f38604dccc65.jsonl
[2026-02-01T00:38:22.552Z] Starting findTaskResult...
[2026-02-01T00:38:22.554Z] Task output found, length: 9256
[2026-02-01T00:38:22.554Z] Task output preview: 

The PAI workflow system is a **sophisticated orchestration framework** that transforms abstract skills into concrete, repeatable, multi-step procedures with state management, parallel execution, and intelligent error handling.
agentId: a92136e (for resuming to continue this agent's work if needed)
[2026-02-01T00:38:22.554Z] Instance metadata: {"agent_type":"Explore"}
[2026-02-01T00:38:22.554Z] No specific completion message found in Task output
[2026-02-01T00:38:22.554Z] Full task output for debugging: Perfect! Now I have a comprehensive understanding. Let me compile the final report.

## PAI Workflow System - Comprehensive Analysis

Based on my thorough examination of the PAI system, here's everything you need to know about workflows:

### What Workflows Are

Workflows are **operational procedure files** that define step-by-step instructions for executing specific tasks within skills. They are the **execution layer** of the PAI system‚Äîwhere abstract skill capabilities become concrete, actionable steps.

**Key Characteristics:**
- Located in `Workflows/` subdirectory within each skill
- Named using **TitleCase** (e.g., `CreateSkill.md`, `QuickResearch.md`)
- Markdown-based procedural documents with executable instructions
- Self-contained instructions that guide Claude through task execution
- Support multi-step processes, parallel execution, conditional branching, and state management

### Directory Structure

Workflows live in a **flat structure** under each skill:

```
~/.config/assistant/skills/SkillName/
‚îú‚îÄ‚îÄ SKILL.md                    # Main skill file (required)
‚îú‚îÄ‚îÄ ToolName.md                 # Context/documentation files (optional)
‚îú‚îÄ‚îÄ Workflows/                  # Operational procedures
‚îÇ   ‚îú‚îÄ‚îÄ WorkflowOne.md         # TitleCase naming
‚îÇ   ‚îú‚îÄ‚îÄ WorkflowTwo.md
‚îÇ   ‚îî‚îÄ‚îÄ WorkflowThree.md
‚îî‚îÄ‚îÄ Tools/                      # Executable CLI tools
    ‚îî‚îÄ‚îÄ ToolName.ts
```

**Critical constraint:** No nested subdirectories under `Workflows/` - keep flat structure.

### How Workflows Relate to Skills

The relationship is **routing-based**:

1. **SKILL.md** contains a **Workflow Routing Table** that maps triggers to workflow files:

```markdown
## Workflow Routing

| Workflow | Trigger | File |
|----------|---------|------|
| **CreateSkill** | "create a new skill" | `Workflows/CreateSkill.md` |
| **ValidateSkill** | "validate skill" | `Workflows/ValidateSkill.md` |
| **UpdateSkill** | "update skill" | `Workflows/UpdateSkill.md` |
```

2. When a user request **matches a trigger**, Claude loads and executes the corresponding workflow file
3. The **USE WHEN** field in SKILL.md frontmatter determines when the entire skill activates
4. Each workflow becomes the **tactical execution plan** for that specific use case

### Workflow Structure & Format

Every workflow follows this pattern (from `advanced-workflows.md`):

**Basic Structure:**

```markdown
# WorkflowName

Description of what this workflow does.

## Voice Notification

```bash
curl -s -X POST http://localhost:8888/notify \
  -H "Content-Type: application/json" \
  -d '{"message": "Running WorkflowName in SkillName to ACTION"}' \
  > /dev/null 2>&1 &
```

Running the **WorkflowName** workflow in the **SkillName** skill to ACTION...

## Step 1: [Description]

[Instructions and tool calls]

## Step 2: [Description]

[More instructions]
```

**Key Sections:**
1. **Title** - Workflow name matching file name
2. **Voice Notification** - Always announce workflow execution
3. **Step-by-step procedures** - Numbered or named steps
4. **Tool calls** - Bash, Task, Read, etc. embedded in steps
5. **Conditional logic** - Branch based on conditions
6. **Results/Output** - Expected output format

### Workflow Capabilities (From Advanced Patterns)

Workflows support sophisticated patterns:

**1. Sequential Workflows**
- Multi-step processes with clear progression
- numbered steps showing current position
- Decision points for user input
- Next action suggestions

**2. State-Carrying Workflows**
- Maintain state between invocations using `.local.md` files
- Store YAML frontmatter with workflow metadata
- Read/update state in subsequent workflow calls
- Example: `/deploy-initialize` ‚Üí `/deploy-test` ‚Üí `/deploy-build` ‚Üí `/deploy-execute`

**3. Conditional Branching**
- Adapt based on runtime conditions
- Different paths based on environment, status, or user input
- Example: Different process for dev vs. production deployment

**4. Command Composition**
- Orchestrate multiple sub-commands
- Chain simple commands into complex workflows
- Meta-commands that coordinate other workflows

**5. Parallel Execution**
- Coordinate multiple simultaneous operations
- Monitor all processes and report progress
- Combine results from parallel branches

**6. Pipeline Patterns**
- Process output from previous steps
- Multi-stage analysis and transformation
- Aggregate results from multiple sources

### Workflow State Management

**Using .local.md Files (Best Practice):**

Workflows store state in `~/.claude/plugin-name-workflow.local.md` or similar:

```markdown
---
workflow: deployment
stage: testing
started: 2025-01-15T10:30:00Z
environment: staging
branch: feature/new-api
tests_passed: false
---

# Deployment Workflow State

Current stage: Testing
Completed steps:
- ‚úÖ Validation
- ‚úÖ Branch check
- ‚è≥ Testing (in progress)

Pending steps:
- Build
- Deploy
- Smoke tests
```

**State Patterns:**
- **Atomic writes** - Complete state files always
- **State validation** - Check format/completeness on read
- **Cleanup** - Remove stale state files after completion
- **Recovery** - Support resuming interrupted workflows

### Workflow Locking & Coordination

**Prevent concurrent execution:**

```bash
if [ -f .claude/deployment.lock ]; then
  ERROR: Deployment already in progress
  Cannot start concurrent deployment
  Exit.
fi

Creating deployment lock...
[Proceed with deployment]
```

**Cross-command signaling:**

```bash
# One workflow creates a flag
Creating: .claude/feature-complete.flag

# Other workflows check for it
if [ -f .claude/feature-complete.flag ]; then
  Feature ready for release notes
fi
```

### Real-World Examples

**From the actual codebase:**

1. **Research Skill** - Multiple workflow types:
   - `QuickResearch.md` - Single agent, fast queries
   - `StandardResearch.md` - 2 agents in parallel, URL verification
   - `ExtensiveResearch.md` - 12 agents, comprehensive analysis
   - `WebScraping.md`, `YoutubeExtraction.md`, etc.

2. **CreateSkill Skill** - Workflow sequence:
   - `CreateSkill.md` - Initial skill creation
   - `ValidateSkill.md` - Structure validation
   - `UpdateSkill.md` - Add new workflows
   - `CanonicalizeSkill.md` - Fix naming/structure

3. **Telos Skill** - Domain-specific workflows:
   - `CreateNarrativePoints.md`
   - `InterviewExtraction.md`
   - `WriteReport.md`

### Integration with Hooks & Agents

**Hooks provide workflow context:**
- `SessionStart` hook loads CORE context before workflow execution
- `Stop` hook captures workflow completion for learning
- `SubagentStop` hook tracks multi-agent workflow results
- Voice notification hooks announce workflow execution

**Agents (Tasks) within workflows:**

```typescript
// Parallel agent execution within a workflow
Task({
  subagent_type: "ClaudeResearcher",
  description: "[topic] analysis",
  prompt: "Do ONE search for: [query]. Return findings immediately."
})

Task({
  subagent_type: "GeminiResearcher",
  description: "[topic] perspectives",
  prompt: "Do ONE search for: [query]. Return findings immediately."
})
```

### Workflow Best Practices

From `advanced-workflows.md`:

**1. Design Principles**
- Clear progression with numbered steps
- Explicit state documentation
- User control through decision points
- Error recovery strategies
- Progress indication

**2. State Management**
- Use persistent `.local.md` files
- Atomic, complete state writes
- State validation on read
- Cleanup stale files
- Document state file formats

**3. Error Handling**
- Fail fast and detect errors early
- Provide clear error messages
- Offer recovery options
- Preserve state for recovery
- Support rollback capabilities

**4. Single Responsibility**
- Each command/workflow does one thing well
- Design for composability
- Standard interfaces
- Loose coupling

### Key Insights

1. **Workflows ‚â† Skills** - Skills are containers; workflows are execution plans
2. **Workflows enable scaling** - Each new task type gets its own workflow file
3. **State is critical** - Multi-step workflows must maintain state between invocations
4. **Parallel execution** - Workflows can orchestrate multiple agents simultaneously
5. **Composability** - Simple workflows combine into complex ones
6. **Voice notifications** - Every workflow announces its execution to the user
7. **Flat structure** - No nested folders, TitleCase naming keeps things discoverable

### Location Summary

**Workflow Files:**
- `/Users/russelltsherman/.config/assistant/skills/*/Workflows/*.md` - Actual workflow implementations
- `/Users/russelltsherman/.config/assistant/plugins/marketplaces/claude-plugins-official/plugins/plugin-dev/skills/command-development/references/advanced-workflows.md` - Comprehensive pattern documentation
- `/Users/russelltsherman/.config/assistant/skills/CORE/SYSTEM/PAISYSTEMARCHITECTURE.md` - System-level documentation
- `/Users/russelltsherman/.config/assistant/skills/CORE/SYSTEM/SKILLSYSTEM.md` - Skill/workflow structure requirements

The PAI workflow system is a **sophisticated orchestration framework** that transforms abstract skills into concrete, repeatable, multi-step procedures with state management, parallel execution, and intelligent error handling.
agentId: a92136e (for resuming to continue this agent's work if needed)
